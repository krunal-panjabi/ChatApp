<div class="container mt-5 ">
<div class="row">
    <div class="col-lg-2">
        
    </div>
</div>

<div class="row mt-3 mainBody">
    <div class="col-lg-2">
        <div class="d-grid mb-2 cpbtn">
            <button class="btn btn-danger btn-block hbutton" (click)="logout()" type="button" >Back To Home</button>
        </div>
        <div class="d-grid mb-2 cpbtn">
            <button class="btn  btn-block cgroup" (click)="openGroupModal()"  type="button" >Create Group</button>
        </div>
        
        <div class="card user-list border-secondary mb-3">


            <div class="card-header h3 text-muted text-center">Users</div>
            <div class="card-body ">
                <div class="row mt-1" *ngFor="let user of service.offlineUsers">
                    <div class="col">
                        <div class="d-grid">
                            <button type="button" 
                            [disabled]="user.username === service.myName"
                            (click)="openPrivateChat(user.username)"
                            class="btn card-text btn-success" >{{user.username}}<span *ngIf="user.username === service.myName"> (you)</span>
                            <span class="position-absolute pos_dot"    *ngIf="service.onlineUsers.includes(user.username)">
                            <div class="onlinesign"></div>
                         </span>
                        </button>
                        </div>
                    </div>
                </div>
                
                        <!-- for groups -->
                <div class="row mt-1" *ngFor="let grp of service.groups">
                    <div class="col">
                        <div class="d-grid">
                            <button  (click)="openGroupChat(grp.groupname)" type="button" class="btn card-text btn-primary btn-group" >{{grp.groupname}}<span class="ms-2"> (Group)</span>
                         
                        </button>
                        </div>
                    </div>
                </div>
                        <!-- for groups ends -->

                


            </div>

        </div>
    </div>

    <div class="col-lg-9">
        <div class="card border-secondary">
            <div class="card-header h3 text-muted text-center">General Chat</div>
            <div class="card-body" style="min-height: 500px;">
                <app-messages [messages]="service.messages"></app-messages>
            </div>
            <div class="card-footer">
                <app-chat-input (contentemitter)="sendMessage($event)"></app-chat-input>
            </div>
        </div>
    </div>

</div>

</div>